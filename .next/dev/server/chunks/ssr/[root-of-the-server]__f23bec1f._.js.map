{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/components/ProductCard.js"],"sourcesContent":["import Link from \"next/link\";\r\nimport { useState, useContext } from \"react\";\r\nimport { saveCartForUser } from \"../lib/cart\";\r\nimport { AuthContext } from \"../pages/_app\";\r\n\r\nfunction Stars({ value = 0 }) {\r\n  const full = Math.floor(value);\r\n  const half = value - full >= 0.5;\r\n  return (\r\n    <div className=\"flex items-center gap-1 text-yellow-500 text-sm\">\r\n      {Array.from({ length: 5 }).map((_, i) => (\r\n        <span key={i}>{i < full ? \"★\" : i === full && half ? \"☆\" : \"☆\"}</span>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function ProductCard({ product }) {\r\n  const [adding, setAdding] = useState(false);\r\n  const { user, cart, setCart } = useContext(AuthContext);\r\n\r\n  const addToCart = async (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setAdding(true);\r\n    try {\r\n      let items = cart?.items ? [...cart.items] : [];\r\n      const idx = items.findIndex((x) => x.id === product.id);\r\n      if (idx >= 0) items[idx].qty = (items[idx].qty || 1) + 1;\r\n      else\r\n        items.push({\r\n          id: product.id,\r\n          name: product.name,\r\n          price: product.price,\r\n          image: product.image,\r\n          qty: 1,\r\n        });\r\n      if (user) {\r\n        await saveCartForUser(user.uid, { items });\r\n        setCart({ items }); // optimistic update\r\n      } else {\r\n        localStorage.setItem(\"ecocart_cart\", JSON.stringify({ items }));\r\n        setCart({ items });\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Add to cart failed\", err);\r\n    }\r\n    setTimeout(() => setAdding(false), 500);\r\n  };\r\n\r\n  return (\r\n    <article className=\"card group overflow-hidden\">\r\n      <div className=\"relative w-full h-56 md:h-48 overflow-hidden rounded-xl bg-gray-50\">\r\n        <Link href={`/product/${product.id}`}>\r\n          <img\r\n            src={product.image}\r\n            alt={product.name}\r\n            loading=\"lazy\"\r\n            className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 cursor-pointer\"\r\n          />\r\n        </Link>\r\n\r\n        {product.offerPercent > 0 && (\r\n          <div className=\"absolute left-3 top-3 bg-primary text-white text-xs px-2 py-1 rounded\">\r\n            {product.offerPercent}% OFF\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mt-4 flex flex-col gap-2\">\r\n        <Link\r\n          href={`/product/${product.id}`}\r\n          className=\"text-lg font-semibold hover:underline\"\r\n        >\r\n          {product.name}\r\n        </Link>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Stars value={product.rating} />\r\n            {product.verified && (\r\n              <div className=\"text-xs text-green-700 border border-green-100 px-2 py-0.5 rounded\">\r\n                Verified\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"text-primary font-bold\">₹{product.price}</div>\r\n        </div>\r\n\r\n        <p className=\"text-sm text-gray-600\">{product.description}</p>\r\n\r\n        <div className=\"mt-2\">\r\n          <button\r\n            onClick={addToCart}\r\n            className=\"bg-primary text-white px-4 py-2 rounded\"\r\n            disabled={adding}\r\n          >\r\n            {adding ? \"Added\" : \"Add to Cart\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAEA,SAAS,MAAM,EAAE,QAAQ,CAAC,EAAE;IAC1B,MAAM,OAAO,KAAK,KAAK,CAAC;IACxB,MAAM,OAAO,QAAQ,QAAQ;IAC7B,qBACE,qKAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,qKAAC;0BAAc,IAAI,OAAO,MAAM,MAAM,QAAQ,OAAO,MAAM;eAAhD;;;;;;;;;;AAInB;AAEe,SAAS,YAAY,EAAE,OAAO,EAAE;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,iHAAU,EAAC,qHAAW;IAEtD,MAAM,YAAY,OAAO;QACvB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,UAAU;QACV,IAAI;YACF,IAAI,QAAQ,MAAM,QAAQ;mBAAI,KAAK,KAAK;aAAC,GAAG,EAAE;YAC9C,MAAM,MAAM,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,QAAQ,EAAE;YACtD,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI;iBAErD,MAAM,IAAI,CAAC;gBACT,IAAI,QAAQ,EAAE;gBACd,MAAM,QAAQ,IAAI;gBAClB,OAAO,QAAQ,KAAK;gBACpB,OAAO,QAAQ,KAAK;gBACpB,KAAK;YACP;YACF,IAAI,MAAM;gBACR,MAAM,IAAA,uHAAe,EAAC,KAAK,GAAG,EAAE;oBAAE;gBAAM;gBACxC,QAAQ;oBAAE;gBAAM,IAAI,oBAAoB;YAC1C,OAAO;gBACL,aAAa,OAAO,CAAC,gBAAgB,KAAK,SAAS,CAAC;oBAAE;gBAAM;gBAC5D,QAAQ;oBAAE;gBAAM;YAClB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sBAAsB;QACtC;QACA,WAAW,IAAM,UAAU,QAAQ;IACrC;IAEA,qBACE,qKAAC;QAAQ,WAAU;;0BACjB,qKAAC;gBAAI,WAAU;;kCACb,qKAAC,gIAAI;wBAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE;kCAClC,cAAA,qKAAC;4BACC,KAAK,QAAQ,KAAK;4BAClB,KAAK,QAAQ,IAAI;4BACjB,SAAQ;4BACR,WAAU;;;;;;;;;;;oBAIb,QAAQ,YAAY,GAAG,mBACtB,qKAAC;wBAAI,WAAU;;4BACZ,QAAQ,YAAY;4BAAC;;;;;;;;;;;;;0BAK5B,qKAAC;gBAAI,WAAU;;kCACb,qKAAC,gIAAI;wBACH,MAAM,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE;wBAC9B,WAAU;kCAET,QAAQ,IAAI;;;;;;kCAEf,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAM,OAAO,QAAQ,MAAM;;;;;;oCAC3B,QAAQ,QAAQ,kBACf,qKAAC;wCAAI,WAAU;kDAAqE;;;;;;;;;;;;0CAKxF,qKAAC;gCAAI,WAAU;;oCAAyB;oCAAE,QAAQ,KAAK;;;;;;;;;;;;;kCAGzD,qKAAC;wBAAE,WAAU;kCAAyB,QAAQ,WAAW;;;;;;kCAEzD,qKAAC;wBAAI,WAAU;kCACb,cAAA,qKAAC;4BACC,SAAS;4BACT,WAAU;4BACV,UAAU;sCAET,SAAS,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAMhC"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/data/products.js"],"sourcesContent":["export const products = [\r\n  {\r\n    id: \"bamboo-toothbrush\",\r\n    name: \"Bamboo Toothbrush\",\r\n    description:\r\n      \"Biodegradable bamboo handle with soft bristles — plastic-free.\",\r\n    image: \"/images/toothbrush.svg\",\r\n    price: 149,\r\n    category: \"Personal Care\",\r\n    rating: 4.6,\r\n    verified: true,\r\n    offerPercent: 10,\r\n  },\r\n  {\r\n    id: \"reusable-bottle\",\r\n    name: \"Reusable Bottle\",\r\n    description: \"Stainless steel insulated bottle for everyday use.\",\r\n    image: \"/images/bottle.svg\",\r\n    price: 799,\r\n    category: \"Home & Living\",\r\n    rating: 4.8,\r\n    verified: true,\r\n    offerPercent: 5,\r\n  },\r\n  {\r\n    id: \"cotton-tote\",\r\n    name: \"Organic Cotton Tote\",\r\n    description: \"Durable tote bag perfect for groceries and market trips.\",\r\n    image: \"/images/toothbrush.svg\",\r\n    price: 249,\r\n    category: \"Accessories\",\r\n    rating: 4.2,\r\n    verified: false,\r\n    offerPercent: 0,\r\n  },\r\n  {\r\n    id: \"beeswax-wrap\",\r\n    name: \"Beeswax Wrap\",\r\n    description: \"Reusable food wrap to replace single-use plastic.\",\r\n    image: \"/images/bottle.svg\",\r\n    price: 399,\r\n    category: \"Home & Living\",\r\n    rating: 4.4,\r\n    verified: false,\r\n    offerPercent: 8,\r\n  },\r\n  {\r\n    id: \"zero-waste-kit\",\r\n    name: \"Zero Waste Starter Kit\",\r\n    description: \"A kit with essentials to start your zero-waste journey.\",\r\n    image: \"/images/toothbrush.svg\",\r\n    price: 1299,\r\n    category: \"Gifts\",\r\n    rating: 4.7,\r\n    verified: true,\r\n    offerPercent: 12,\r\n  },\r\n  {\r\n    id: \"upcycled-bag\",\r\n    name: \"Upcycled Sling Bag\",\r\n    description: \"Handcrafted bag made from upcycled materials.\",\r\n    image: \"/images/bottle.svg\",\r\n    price: 1799,\r\n    category: \"Accessories\",\r\n    rating: 4.5,\r\n    verified: true,\r\n    offerPercent: 15,\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,WAAW;IACtB;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,cAAc;IAChB;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,cAAc;IAChB;CACD"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/pages/shop.js"],"sourcesContent":["import ProductCard from \"../components/ProductCard\";\r\nimport { products as allProducts } from \"../data/products\";\r\nimport { useMemo, useState } from \"react\";\r\n\r\nexport default function Shop() {\r\n  const [category, setCategory] = useState(\"All\");\r\n  const [sort, setSort] = useState(\"popular\");\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const categories = useMemo(\r\n    () => [\r\n      \"All\",\r\n      ...Array.from(new Set(allProducts.map((p) => p.category))).filter(\r\n        Boolean\r\n      ),\r\n    ],\r\n    []\r\n  );\r\n\r\n  const filtered = useMemo(() => {\r\n    let list = allProducts.slice();\r\n    if (category !== \"All\") list = list.filter((p) => p.category === category);\r\n    if (search)\r\n      list = list.filter((p) =>\r\n        p.name.toLowerCase().includes(search.toLowerCase())\r\n      );\r\n    if (sort === \"price_asc\") list.sort((a, b) => a.price - b.price);\r\n    if (sort === \"price_desc\") list.sort((a, b) => b.price - a.price);\r\n    return list;\r\n  }, [category, sort, search]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h1 className=\"text-2xl font-semibold\">Sustainable Shop</h1>\r\n        <div className=\"flex items-center gap-3\">\r\n          <input\r\n            placeholder=\"Search in shop\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            className=\"border rounded px-3 py-2\"\r\n          />\r\n          <select\r\n            value={sort}\r\n            onChange={(e) => setSort(e.target.value)}\r\n            className=\"border rounded px-3 py-2\"\r\n          >\r\n            <option value=\"popular\">Most popular</option>\r\n            <option value=\"price_asc\">Price: Low to high</option>\r\n            <option value=\"price_desc\">Price: High to low</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        {/* Sidebar */}\r\n        <aside className=\"hidden md:block\">\r\n          <div className=\"card\">\r\n            <h3 className=\"font-semibold mb-3\">Categories</h3>\r\n            <div className=\"flex flex-col gap-2\">\r\n              {categories.map((c) => (\r\n                <button\r\n                  key={c}\r\n                  onClick={() => setCategory(c)}\r\n                  className={`text-left px-3 py-2 rounded ${\r\n                    category === c ? \"bg-gray-100\" : \"\"\r\n                  }`}\r\n                >\r\n                  {c}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        <div className=\"md:col-span-3\">\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {filtered.map((p) => (\r\n              <ProductCard key={p.id} product={p} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IAErC,MAAM,aAAa,IAAA,8GAAO,EACxB,IAAM;YACJ;eACG,MAAM,IAAI,CAAC,IAAI,IAAI,qHAAW,CAAC,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ,IAAI,MAAM,CAC/D;SAEH,EACD,EAAE;IAGJ,MAAM,WAAW,IAAA,8GAAO,EAAC;QACvB,IAAI,OAAO,qHAAW,CAAC,KAAK;QAC5B,IAAI,aAAa,OAAO,OAAO,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;QACjE,IAAI,QACF,OAAO,KAAK,MAAM,CAAC,CAAC,IAClB,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,WAAW;QAEpD,IAAI,SAAS,aAAa,KAAK,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;QAC/D,IAAI,SAAS,cAAc,KAAK,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;QAChE,OAAO;IACT,GAAG;QAAC;QAAU;QAAM;KAAO;IAE3B,qBACE,qKAAC;;0BACC,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCACC,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gCACzC,WAAU;;;;;;0CAEZ,qKAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gCACvC,WAAU;;kDAEV,qKAAC;wCAAO,OAAM;kDAAU;;;;;;kDACxB,qKAAC;wCAAO,OAAM;kDAAY;;;;;;kDAC1B,qKAAC;wCAAO,OAAM;kDAAa;;;;;;;;;;;;;;;;;;;;;;;;0BAKjC,qKAAC;gBAAI,WAAU;;kCAEb,qKAAC;wBAAM,WAAU;kCACf,cAAA,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAG,WAAU;8CAAqB;;;;;;8CACnC,qKAAC;oCAAI,WAAU;8CACZ,WAAW,GAAG,CAAC,CAAC,kBACf,qKAAC;4CAEC,SAAS,IAAM,YAAY;4CAC3B,WAAW,CAAC,4BAA4B,EACtC,aAAa,IAAI,gBAAgB,IACjC;sDAED;2CANI;;;;;;;;;;;;;;;;;;;;;kCAaf,qKAAC;wBAAI,WAAU;kCACb,cAAA,qKAAC;4BAAI,WAAU;sCACZ,SAAS,GAAG,CAAC,CAAC,kBACb,qKAAC,6HAAW;oCAAY,SAAS;mCAAf,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpC"}}]
}