{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/lib/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\n// Firebase config pulled from environment variables\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBbR2ZfatfncnnALVNsl76tsLRUT9-mj4c\",\r\n  authDomain: \"ecovart.firebaseapp.com\",\r\n  projectId: \"ecovart\",\r\n  storageBucket: \"ecovart.firebasestorage.app\",\r\n  messagingSenderId: \"191490966432\",\r\n  appId: \"1:191490966432:web:aa201ff9254fe66707dac5\",\r\n  measurementId: \"G-PF2GJHCL9V\",\r\n};\r\n\r\n// Initialize Firebase app\r\nconst app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;;;;;;;AAEA,oDAAoD;AACpD,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,0BAA0B;AAC1B,MAAM,MAAM,IAAA,+IAAa,EAAC;AACnB,MAAM,OAAO,IAAA,2IAAO,EAAC;AACrB,MAAM,KAAK,IAAA,0JAAY,EAAC"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/components/Navbar.jsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../pages/_app\";\r\n\r\nexport default function Navbar() {\r\n  const { user, loading, cart } = useContext(AuthContext);\r\n  const items = Array.isArray(cart?.items) ? cart.items : [];\r\n  const count = items.reduce((s, i) => s + (i.qty || 1), 0);\r\n\r\n  return (\r\n    <header className=\"sticky top-0 z-50\">\r\n      {/* Top Amazon-style bar */}\r\n      <div className=\"w-full bg-[#12372A] text-white flex items-center px-4 py-2 gap-4\">\r\n        {/* Logo */}\r\n        <Link href=\"/\" className=\"flex items-center mr-2\">\r\n          <span className=\"text-2xl font-bold text-orange-400 tracking-tight\">\r\n            eco\r\n          </span>\r\n          <span className=\"text-2xl font-bold text-white tracking-tight\">\r\n            Vart\r\n          </span>\r\n        </Link>\r\n        {/* Location */}\r\n        <div className=\"hidden md:flex items-center gap-1 text-xs cursor-pointer hover:underline\">\r\n          <svg\r\n            className=\"w-5 h-5 text-white\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              d=\"M17.657 16.657L13.414 21l-4.243-4.343A8 8 0 1117.657 16.657z\"\r\n            />\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n            />\r\n          </svg>\r\n          <span>Delivering to KarnƒÅl 132001</span>\r\n        </div>\r\n        {/* Search bar with category */}\r\n        <form\r\n          className=\"flex flex-1 max-w-2xl mx-4\"\r\n          onSubmit={(e) => e.preventDefault()}\r\n        >\r\n          <select className=\"rounded-l bg-gray-100 text-gray-700 px-2 text-sm border-none outline-none\">\r\n            <option>All</option>\r\n            <option>Shop</option>\r\n            <option>Fashion</option>\r\n            <option>Electronics</option>\r\n            <option>Books</option>\r\n            <option>Home & Living</option>\r\n          </select>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search EcoVart\"\r\n            className=\"w-full px-3 py-2 text-black outline-none\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-yellow-400 hover:bg-yellow-500 px-4 rounded-r flex items-center justify-center\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 text-black\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n              <path d=\"M21 21l-4.35-4.35\" />\r\n            </svg>\r\n          </button>\r\n        </form>\r\n        {/* Language */}\r\n        <div className=\"hidden md:flex items-center gap-1 cursor-pointer\">\r\n          <span className=\"fi fi-in mr-1\"></span>\r\n          <span className=\"text-xs\">EN</span>\r\n        </div>\r\n        {/* Account & Lists */}\r\n        <div className=\"relative group\">\r\n          <button className=\"flex flex-col items-start text-xs font-semibold px-2\">\r\n            <span className=\"text-gray-200\">\r\n              Hello, {user ? user.displayName?.split(\" \")[0] : \"sign in\"}\r\n            </span>\r\n            <span className=\"text-white font-bold\">Account &amp; Lists</span>\r\n          </button>\r\n          {/* Dropdown (optional) */}\r\n        </div>\r\n        {/* Orders & My Footprint */}\r\n        {user && (\r\n          <Link\r\n            href=\"/orders\"\r\n            className=\"flex flex-col items-start text-xs font-semibold px-2\"\r\n          >\r\n            <span className=\"text-gray-200\">Returns</span>\r\n            <span className=\"text-white font-bold\">&amp; Orders</span>\r\n          </Link>\r\n        )}\r\n        <Link\r\n          href=\"/dashboard/footprint\"\r\n          className=\"flex flex-col items-start text-xs font-semibold px-2\"\r\n        >\r\n          <span className=\"text-gray-200\">Eco</span>\r\n          <span className=\"text-green-300 font-bold\">My Footprint</span>\r\n        </Link>\r\n        {/* Cart */}\r\n\r\n        <Link href=\"/cart\" className=\"flex items-center gap-1 relative px-2\">\r\n          <svg\r\n            className=\"w-7 h-7 text-white\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35 2.7a1 1 0 00.9 1.48H18\" />\r\n            <circle cx=\"9\" cy=\"21\" r=\"1\" />\r\n            <circle cx=\"18\" cy=\"21\" r=\"1\" />\r\n          </svg>\r\n          <span className=\"absolute -top-2 left-5 bg-yellow-400 text-black text-xs rounded-full px-2 py-px font-bold\">\r\n            {count}\r\n          </span>\r\n          <span className=\"hidden md:inline text-white font-bold\">Cart</span>\r\n        </Link>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/components/CategoryMenu.jsx"],"sourcesContent":["import Link from \"next/link\";\r\n\r\nconst categories = [\r\n  \"Shop All\",\r\n  \"Women\",\r\n  \"Men\",\r\n  \"Kids\",\r\n  \"Accessories\",\r\n  \"Home & Living\",\r\n  \"Beauty\",\r\n  \"Gifts\",\r\n];\r\n\r\nexport default function CategoryMenu() {\r\n  return (\r\n    <nav className=\"w-full bg-white border-b border-gray-100 shadow-sm\">\r\n      <div className=\"container mx-auto flex gap-4 px-2 py-2 overflow-x-auto text-sm font-medium\">\r\n        {categories.map((cat) => (\r\n          <Link\r\n            key={cat}\r\n            href={\r\n              cat === \"Shop All\"\r\n                ? \"/shop\"\r\n                : `/shop?category=${encodeURIComponent(cat)}`\r\n            }\r\n            className=\"px-3 py-1 rounded hover:bg-green-50 hover:text-green-700 transition-colors whitespace-nowrap\"\r\n          >\r\n            {cat}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,aAAa;IACjB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEc,SAAS;IACtB,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;sBACZ,WAAW,GAAG,CAAC,CAAC,oBACf,qKAAC,gIAAI;oBAEH,MACE,QAAQ,aACJ,UACA,CAAC,eAAe,EAAE,mBAAmB,MAAM;oBAEjD,WAAU;8BAET;mBARI;;;;;;;;;;;;;;;AAcjB"}},
    {"offset": {"line": 545, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/lib/cart.js"],"sourcesContent":["import {\r\n  doc,\r\n  setDoc,\r\n  onSnapshot,\r\n  deleteDoc,\r\n  serverTimestamp,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"./firebase\";\r\n\r\n// Save/replace full cart for user\r\nexport async function saveCartForUser(uid, cartData) {\r\n  const ref = doc(db, \"users\", uid, \"meta\", \"cart\"); // nested doc to avoid top-level collisions\r\n  await setDoc(\r\n    ref,\r\n    { items: cartData.items || [], updatedAt: serverTimestamp() },\r\n    { merge: true }\r\n  );\r\n  return ref;\r\n}\r\n\r\n// Read and subscribe to cart for user (returns unsubscribe)\r\nexport function subscribeToCart(uid, onChange) {\r\n  const ref = doc(db, \"users\", uid, \"meta\", \"cart\");\r\n  return onSnapshot(ref, (snap) => {\r\n    if (!snap.exists()) return onChange({ items: [] });\r\n    onChange({ ...snap.data() });\r\n  });\r\n}\r\n\r\n// Clear cart doc\r\nexport async function clearCartForUser(uid) {\r\n  const ref = doc(db, \"users\", uid, \"meta\", \"cart\");\r\n  // remove the cart document entirely\r\n  await deleteDoc(ref);\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAOA;;;;;;;;AAGO,eAAe,gBAAgB,GAAG,EAAE,QAAQ;IACjD,MAAM,MAAM,IAAA,iJAAG,EAAC,8GAAE,EAAE,SAAS,KAAK,QAAQ,SAAS,2CAA2C;IAC9F,MAAM,IAAA,oJAAM,EACV,KACA;QAAE,OAAO,SAAS,KAAK,IAAI,EAAE;QAAE,WAAW,IAAA,6JAAe;IAAG,GAC5D;QAAE,OAAO;IAAK;IAEhB,OAAO;AACT;AAGO,SAAS,gBAAgB,GAAG,EAAE,QAAQ;IAC3C,MAAM,MAAM,IAAA,iJAAG,EAAC,8GAAE,EAAE,SAAS,KAAK,QAAQ;IAC1C,OAAO,IAAA,wJAAU,EAAC,KAAK,CAAC;QACtB,IAAI,CAAC,KAAK,MAAM,IAAI,OAAO,SAAS;YAAE,OAAO,EAAE;QAAC;QAChD,SAAS;YAAE,GAAG,KAAK,IAAI,EAAE;QAAC;IAC5B;AACF;AAGO,eAAe,iBAAiB,GAAG;IACxC,MAAM,MAAM,IAAA,iJAAG,EAAC,8GAAE,EAAE,SAAS,KAAK,QAAQ;IAC1C,oCAAoC;IACpC,MAAM,IAAA,uJAAS,EAAC;AAClB"}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/pages/_app.js"],"sourcesContent":["import \"../styles/globals.css\";\r\nimport { useEffect, useState, createContext } from \"react\";\r\nimport { auth } from \"../lib/firebase\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport CategoryMenu from \"../components/CategoryMenu\";\r\nimport { saveCartForUser, subscribeToCart } from \"../lib/cart\";\r\n\r\nexport const AuthContext = createContext({ user: null });\r\n\r\nexport default function MyApp({ Component, pageProps }) {\r\n  const [user, setUser] = useState(null);\r\n  const [cart, setCart] = useState({ items: [] });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let unsubCart = null;\r\n    const unsub = onAuthStateChanged(auth, async (u) => {\r\n      setUser(u);\r\n      setLoading(false);\r\n      if (u) {\r\n        // migrate localStorage cart (if exists)\r\n        try {\r\n          const local = localStorage.getItem(\"ecocart_cart\");\r\n          if (local) {\r\n            const parsed = JSON.parse(local);\r\n            if (parsed?.items?.length) {\r\n              await saveCartForUser(u.uid, parsed);\r\n              localStorage.removeItem(\"ecocart_cart\");\r\n            }\r\n          }\r\n        } catch (e) {\r\n          console.error(\"cart migrate\", e);\r\n        }\r\n\r\n        // subscribe to Firestore cart\r\n        unsubCart = subscribeToCart(u.uid, (data) => {\r\n          setCart(data || { items: [] });\r\n        });\r\n      } else {\r\n        // if logged out, stop subscribe and keep local cart\r\n        if (unsubCart) {\r\n          unsubCart();\r\n          unsubCart = null;\r\n        }\r\n        const local = localStorage.getItem(\"ecocart_cart\");\r\n        setCart(local ? JSON.parse(local) : { items: [] });\r\n      }\r\n    });\r\n    return () => {\r\n      unsub();\r\n      if (unsubCart) unsubCart();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, cart, setCart, loading }}>\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <Navbar />\r\n        <CategoryMenu />\r\n        <main className=\"container py-8\">\r\n          <Component {...pageProps} />\r\n        </main>\r\n      </div>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AAEO,MAAM,4BAAc,IAAA,oHAAa,EAAC;IAAE,MAAM;AAAK;AAEvC,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE;IACpD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;QAAE,OAAO,EAAE;IAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,IAAA,gHAAS,EAAC;QACR,IAAI,YAAY;QAChB,MAAM,QAAQ,IAAA,sJAAkB,EAAC,gHAAI,EAAE,OAAO;YAC5C,QAAQ;YACR,WAAW;YACX,IAAI,GAAG;gBACL,wCAAwC;gBACxC,IAAI;oBACF,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,IAAI,OAAO;wBACT,MAAM,SAAS,KAAK,KAAK,CAAC;wBAC1B,IAAI,QAAQ,OAAO,QAAQ;4BACzB,MAAM,IAAA,uHAAe,EAAC,EAAE,GAAG,EAAE;4BAC7B,aAAa,UAAU,CAAC;wBAC1B;oBACF;gBACF,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,gBAAgB;gBAChC;gBAEA,8BAA8B;gBAC9B,YAAY,IAAA,uHAAe,EAAC,EAAE,GAAG,EAAE,CAAC;oBAClC,QAAQ,QAAQ;wBAAE,OAAO,EAAE;oBAAC;gBAC9B;YACF,OAAO;gBACL,oDAAoD;gBACpD,IAAI,WAAW;oBACb;oBACA,YAAY;gBACd;gBACA,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,QAAQ,QAAQ,KAAK,KAAK,CAAC,SAAS;oBAAE,OAAO,EAAE;gBAAC;YAClD;QACF;QACA,OAAO;YACL;YACA,IAAI,WAAW;QACjB;IACF,GAAG,EAAE;IAEL,qBACE,qKAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAM;YAAS;QAAQ;kBAC1D,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC,yHAAM;;;;;8BACP,qKAAC,+HAAY;;;;;8BACb,qKAAC;oBAAK,WAAU;8BACd,cAAA,qKAAC;wBAAW,GAAG,SAAS;;;;;;;;;;;;;;;;;;;;;;AAKlC"}}]
}