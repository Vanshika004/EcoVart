{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/lib/firebase.js"],"sourcesContent":["// lib/firebase.js\r\nimport { initializeApp, getApps, getApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\n// IMPORTANT: Prevent Firebase from initializing twice\r\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;;AAClB;AACA;AACA;;;;;;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,sDAAsD;AACtD,MAAM,MAAM,CAAC,IAAA,yIAAO,IAAG,MAAM,GAAG,IAAA,+IAAa,EAAC,kBAAkB,IAAA,wIAAM;AAE/D,MAAM,OAAO,IAAA,2IAAO,EAAC;AACrB,MAAM,KAAK,IAAA,0JAAY,EAAC"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/components/Navbar.jsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport { useContext, useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { AuthContext } from \"../pages/_app\";\r\n\r\nexport default function Navbar() {\r\n  const { user, cart } = useContext(AuthContext);\r\n\r\n  const items = Array.isArray(cart?.items) ? cart.items : [];\r\n  const count = items.reduce((s, i) => s + (i.qty || 1), 0);\r\n\r\n  const router = useRouter();\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n\r\n  return (\r\n    <header className=\"sticky top-0 z-50\">\r\n      <div className=\"w-full bg-[#12372A] text-white flex items-center px-4 py-2 gap-4\">\r\n        {/* LOGO */}\r\n        <Link href=\"/\" className=\"flex items-center mr-2\">\r\n          <span className=\"text-2xl font-bold text-orange-400 tracking-tight\">\r\n            eco\r\n          </span>\r\n          <span className=\"text-2xl font-bold text-white tracking-tight\">\r\n            Vart\r\n          </span>\r\n        </Link>\r\n\r\n        {/* LOCATION */}\r\n        <div className=\"hidden md:flex items-center gap-1 text-xs cursor-pointer hover:underline\">\r\n          <svg\r\n            className=\"w-5 h-5 text-white\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              d=\"M17.657 16.657L13.414 21l-4.243-4.343A8 8 0 1117.657 16.657z\"\r\n            />\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n            />\r\n          </svg>\r\n          <span>Delivering to KarnƒÅl 132001</span>\r\n        </div>\r\n\r\n        {/* SEARCH BAR */}\r\n        <form\r\n          className=\"flex flex-1 max-w-2xl mx-4\"\r\n          onSubmit={(e) => e.preventDefault()}\r\n        >\r\n          <select className=\"rounded-l bg-gray-100 text-gray-700 px-2 text-sm outline-none\">\r\n            <option>All</option>\r\n            <option>Shop</option>\r\n            <option>Fashion</option>\r\n            <option>Electronics</option>\r\n            <option>Books</option>\r\n            <option>Home & Living</option>\r\n          </select>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search EcoVart\"\r\n            className=\"w-full px-3 py-2 text-black outline-none\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-yellow-400 hover:bg-yellow-500 px-4 rounded-r flex items-center justify-center\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 text-black\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <circle cx=\"11\" cy=\"11\" r=\"8\" />\r\n              <path d=\"M21 21l-4.35-4.35\" />\r\n            </svg>\r\n          </button>\r\n        </form>\r\n\r\n        {/* LANGUAGE */}\r\n        <div className=\"hidden md:flex items-center gap-1 cursor-pointer\">\r\n          <span className=\"text-xs\">EN</span>\r\n        </div>\r\n\r\n        {/* ACCOUNT */}\r\n        <div\r\n          className=\"flex flex-col items-start text-xs font-semibold px-2 cursor-pointer\"\r\n          onClick={() => router.push(\"/auth\")}\r\n        >\r\n          <span className=\"text-gray-200\">\r\n            Hello, {user ? user.displayName?.split(\" \")[0] : \"Sign In\"}\r\n          </span>\r\n          <span className=\"text-white font-bold\">Account & Lists</span>\r\n        </div>\r\n\r\n        {/* CART + ORDERS (Stable dropdown) */}\r\n        <div\r\n          className=\"relative px-2\"\r\n          onMouseEnter={() => setMenuOpen(true)}\r\n          onMouseLeave={() => setMenuOpen(false)}\r\n        >\r\n          <button className=\"flex items-center gap-2 relative cursor-pointer\">\r\n            <svg\r\n              className=\"w-7 h-7 text-white\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35 2.7a1 1 0 00.9 1.48H18\" />\r\n              <circle cx=\"9\" cy=\"21\" r=\"1\" />\r\n              <circle cx=\"18\" cy=\"21\" r=\"1\" />\r\n            </svg>\r\n            <span className=\"hidden md:inline text-white font-bold\">\r\n              Cart & Orders\r\n            </span>\r\n\r\n            {/* Badge */}\r\n            <span className=\"absolute -top-2 left-6 bg-yellow-400 text-black text-xs rounded-full px-2 py-px font-bold\">\r\n              {count}\r\n            </span>\r\n          </button>\r\n\r\n          {/* Dropdown */}\r\n          {menuOpen && (\r\n            <div className=\"absolute right-0 mt-1 w-56 z-50\">\r\n              {/* Invisible anti-flicker layer */}\r\n              <div className=\"absolute -top-2 left-0 right-0 h-4\"></div>\r\n\r\n              <div\r\n                className=\"bg-white text-black rounded shadow-lg\"\r\n                onMouseEnter={() => setMenuOpen(true)}\r\n                onMouseLeave={() => setMenuOpen(false)}\r\n              >\r\n                <div className=\"p-3 border-b\">\r\n                  <div className=\"font-medium\">Items in cart</div>\r\n                  <div className=\"text-sm text-gray-600\">{count} items</div>\r\n                </div>\r\n\r\n                <div className=\"p-2\">\r\n                  <Link\r\n                    href=\"/cart\"\r\n                    className=\"block px-2 py-2 hover:bg-gray-100 rounded\"\r\n                  >\r\n                    View Cart\r\n                  </Link>\r\n                  <Link\r\n                    href=\"/orders\"\r\n                    className=\"block px-2 py-2 hover:bg-gray-100 rounded\"\r\n                  >\r\n                    Your Orders\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* FOOTPRINT */}\r\n        {user && (\r\n          <Link\r\n            href=\"/dashboard/footprint\"\r\n            className=\"flex flex-col items-start text-xs font-semibold px-2\"\r\n          >\r\n            <span className=\"text-gray-200\">Eco</span>\r\n            <span className=\"text-green-300 font-bold\">My Footprint</span>\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/components/CategoryMenu.jsx"],"sourcesContent":["import Link from \"next/link\";\r\n\r\nconst categories = [\r\n  \"Shop All\",\r\n  \"Women\",\r\n  \"Men\",\r\n  \"Kids\",\r\n  \"Accessories\",\r\n  \"Home & Living\",\r\n  \"Beauty\",\r\n  \"Gifts\",\r\n];\r\n\r\nexport default function CategoryMenu() {\r\n  return (\r\n    <nav className=\"w-full bg-white border-b border-gray-100 shadow-sm\">\r\n      <div className=\"container mx-auto flex gap-4 px-2 py-2 overflow-x-auto text-sm font-medium\">\r\n        {categories.map((cat) => (\r\n          <Link\r\n            key={cat}\r\n            href={\r\n              cat === \"Shop All\"\r\n                ? \"/shop\"\r\n                : `/shop?category=${encodeURIComponent(cat)}`\r\n            }\r\n            className=\"px-3 py-1 rounded hover:bg-green-50 hover:text-green-700 transition-colors whitespace-nowrap\"\r\n          >\r\n            {cat}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,aAAa;IACjB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEc,SAAS;IACtB,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;sBACZ,WAAW,GAAG,CAAC,CAAC,oBACf,qKAAC,gIAAI;oBAEH,MACE,QAAQ,aACJ,UACA,CAAC,eAAe,EAAE,mBAAmB,MAAM;oBAEjD,WAAU;8BAET;mBARI;;;;;;;;;;;;;;;AAcjB"}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/components/Footer.jsx"],"sourcesContent":["// Professional footer for EcoVart\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"bg-[#12372A] text-white w-full m-0\">\r\n      <div className=\"w-full text-center py-3 text-sm font-medium transition-all\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\r\n          className=\"cursor-pointer hover:underline\"\r\n          aria-label=\"Back to top\"\r\n        >\r\n          Back to top\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto py-12 px-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10 md:gap-8\">\r\n        <div>\r\n          <h4 className=\"font-bold mb-4 text-lg\">Get to Know Us</h4>\r\n          <ul className=\"space-y-2 text-sm\">\r\n            <li>\r\n              <a\r\n                href=\"/about\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                About EcoVart\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"/careers\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Careers\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"/press\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Press Releases\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"/science\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Eco Science\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div>\r\n          <h4 className=\"font-bold mb-4 text-lg\">Connect with Us</h4>\r\n          <ul className=\"space-y-2 text-sm\">\r\n            <li>\r\n              <a\r\n                href=\"https://facebook.com\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Facebook\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"https://twitter.com\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Twitter\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"https://instagram.com\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Instagram\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div>\r\n          <h4 className=\"font-bold mb-4 text-lg\">Make Money with Us</h4>\r\n          <ul className=\"space-y-2 text-sm\">\r\n            <li>\r\n              <a\r\n                href=\"/sell\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Sell on EcoVart\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"/sell/accelerator\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Eco Accelerator\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"/sell/brand\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Build Your Brand\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"/sell/global\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Global Selling\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div>\r\n          <h4 className=\"font-bold mb-4 text-lg\">Let Us Help You</h4>\r\n          <ul className=\"space-y-2 text-sm\">\r\n            <li>\r\n              <a\r\n                href=\"/profile\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Your Account\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"/help/returns\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Returns Centre\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"/help\"\r\n                className=\"hover:text-orange-300 transition-colors\"\r\n              >\r\n                Help\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"w-full flex flex-col md:flex-row items-center justify-center gap-4 py-6\">\r\n        <span className=\"font-bold text-lg tracking-tight\">\r\n          eco<span className=\"text-orange-400\">Vart</span>\r\n        </span>\r\n        <div className=\"flex gap-2\">\r\n          <button className=\"bg-[#0f2b1f] px-3 py-1 rounded text-white text-sm flex items-center gap-1\">\r\n            <span>üåê</span> English\r\n          </button>\r\n          <button className=\"bg-[#0f2b1f] px-3 py-1 rounded text-white text-sm flex items-center gap-1\">\r\n            <span>üáÆüá≥</span> India\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;;;AACnB,SAAS;IACtB,qBACE,qKAAC;QAAO,WAAU;;0BAChB,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBACC,MAAK;oBACL,SAAS,IAAM,OAAO,QAAQ,CAAC;4BAAE,KAAK;4BAAG,UAAU;wBAAS;oBAC5D,WAAU;oBACV,cAAW;8BACZ;;;;;;;;;;;0BAKH,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;;0CACC,qKAAC;gCAAG,WAAU;0CAAyB;;;;;;0CACvC,qKAAC;gCAAG,WAAU;;kDACZ,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;kCAOP,qKAAC;;0CACC,qKAAC;gCAAG,WAAU;0CAAyB;;;;;;0CACvC,qKAAC;gCAAG,WAAU;;kDACZ,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,QAAO;4CACP,KAAI;4CACJ,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,QAAO;4CACP,KAAI;4CACJ,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,QAAO;4CACP,KAAI;4CACJ,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;kCAOP,qKAAC;;0CACC,qKAAC;gCAAG,WAAU;0CAAyB;;;;;;0CACvC,qKAAC;gCAAG,WAAU;;kDACZ,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;kCAOP,qKAAC;;0CACC,qKAAC;gCAAG,WAAU;0CAAyB;;;;;;0CACvC,qKAAC;gCAAG,WAAU;;kDACZ,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;kDAIH,qKAAC;kDACC,cAAA,qKAAC;4CACC,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQT,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAK,WAAU;;4BAAmC;0CAC9C,qKAAC;gCAAK,WAAU;0CAAkB;;;;;;;;;;;;kCAEvC,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAO,WAAU;;kDAChB,qKAAC;kDAAK;;;;;;oCAAS;;;;;;;0CAEjB,qKAAC;gCAAO,WAAU;;kDAChB,qKAAC;kDAAK;;;;;;oCAAW;;;;;;;;;;;;;;;;;;;;;;;;;AAM7B"}},
    {"offset": {"line": 1044, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/lib/cart.js"],"sourcesContent":["// lib/cart.js\r\nimport {\r\n  doc,\r\n  setDoc,\r\n  onSnapshot,\r\n  deleteDoc,\r\n  serverTimestamp,\r\n  getDoc,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"./firebase\";\r\n\r\n// Save or merge cart\r\nexport async function saveCartForUser(uid, cartData) {\r\n  if (!uid) throw new Error(\"Missing uid\");\r\n  const ref = doc(db, \"users\", uid, \"meta\", \"cart\");\r\n  await setDoc(\r\n    ref,\r\n    {\r\n      items: cartData.items || [],\r\n      updatedAt: serverTimestamp(),\r\n    },\r\n    { merge: true }\r\n  );\r\n}\r\n\r\n// Subscribe to cart (real-time)\r\nexport function subscribeToCart(uid, callback) {\r\n  if (!uid) return () => {};\r\n\r\n  const ref = doc(db, \"users\", uid, \"meta\", \"cart\");\r\n\r\n  return onSnapshot(\r\n    ref,\r\n    (snap) => {\r\n      if (!snap.exists()) callback({ items: [] });\r\n      else callback(snap.data());\r\n    },\r\n    (err) => {\r\n      console.error(\"subscribeToCart error:\", err);\r\n      callback({ items: [] });\r\n    }\r\n  );\r\n}\r\n\r\n// Clear cart\r\nexport async function clearCartForUser(uid) {\r\n  if (!uid) throw new Error(\"Missing uid\");\r\n  const ref = doc(db, \"users\", uid, \"meta\", \"cart\");\r\n  await deleteDoc(ref);\r\n}\r\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;;;;AACd;AAQA;;;;;;;;AAGO,eAAe,gBAAgB,GAAG,EAAE,QAAQ;IACjD,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,MAAM,MAAM,IAAA,iJAAG,EAAC,8GAAE,EAAE,SAAS,KAAK,QAAQ;IAC1C,MAAM,IAAA,oJAAM,EACV,KACA;QACE,OAAO,SAAS,KAAK,IAAI,EAAE;QAC3B,WAAW,IAAA,6JAAe;IAC5B,GACA;QAAE,OAAO;IAAK;AAElB;AAGO,SAAS,gBAAgB,GAAG,EAAE,QAAQ;IAC3C,IAAI,CAAC,KAAK,OAAO,KAAO;IAExB,MAAM,MAAM,IAAA,iJAAG,EAAC,8GAAE,EAAE,SAAS,KAAK,QAAQ;IAE1C,OAAO,IAAA,wJAAU,EACf,KACA,CAAC;QACC,IAAI,CAAC,KAAK,MAAM,IAAI,SAAS;YAAE,OAAO,EAAE;QAAC;aACpC,SAAS,KAAK,IAAI;IACzB,GACA,CAAC;QACC,QAAQ,KAAK,CAAC,0BAA0B;QACxC,SAAS;YAAE,OAAO,EAAE;QAAC;IACvB;AAEJ;AAGO,eAAe,iBAAiB,GAAG;IACxC,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,MAAM,MAAM,IAAA,iJAAG,EAAC,8GAAE,EAAE,SAAS,KAAK,QAAQ;IAC1C,MAAM,IAAA,uJAAS,EAAC;AAClB"}},
    {"offset": {"line": 1099, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Vanshika/Desktop/Ecocart/pages/_app.js"],"sourcesContent":["import \"../styles/globals.css\";\r\nimport { useEffect, useState, createContext } from \"react\";\r\nimport { auth } from \"../lib/firebase\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport CategoryMenu from \"../components/CategoryMenu\";\r\nimport Footer from \"../components/Footer\";\r\nimport { saveCartForUser, subscribeToCart } from \"../lib/cart\";\r\n\r\nexport const AuthContext = createContext({ user: null });\r\n\r\nexport default function MyApp({ Component, pageProps }) {\r\n  const [user, setUser] = useState(null);\r\n  const [cart, setCart] = useState({ items: [] });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let unsubCart = null;\r\n    const unsub = onAuthStateChanged(auth, async (u) => {\r\n      setUser(u);\r\n      setLoading(false);\r\n      if (u) {\r\n        // migrate localStorage cart (if exists)\r\n        try {\r\n          const local = localStorage.getItem(\"ecocart_cart\");\r\n          if (local) {\r\n            const parsed = JSON.parse(local);\r\n            if (parsed?.items?.length) {\r\n              await saveCartForUser(u.uid, parsed);\r\n              localStorage.removeItem(\"ecocart_cart\");\r\n            }\r\n          }\r\n        } catch (e) {\r\n          console.error(\"cart migrate\", e);\r\n        }\r\n\r\n        // subscribe to Firestore cart\r\n        unsubCart = subscribeToCart(u.uid, (data) => {\r\n          setCart(data || { items: [] });\r\n        });\r\n      } else {\r\n        // if logged out, stop subscribe and keep local cart\r\n        if (unsubCart) {\r\n          unsubCart();\r\n          unsubCart = null;\r\n        }\r\n        const local = localStorage.getItem(\"ecocart_cart\");\r\n        setCart(local ? JSON.parse(local) : { items: [] });\r\n      }\r\n    });\r\n    return () => {\r\n      unsub();\r\n      if (unsubCart) unsubCart();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, cart, setCart, loading }}>\r\n      <div className=\"min-h-screen bg-gray-50 flex flex-col\">\r\n        <Navbar />\r\n        <CategoryMenu />\r\n        <main className=\"container py-8 flex-1\">\r\n          <Component {...pageProps} />\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAEO,MAAM,4BAAc,IAAA,oHAAa,EAAC;IAAE,MAAM;AAAK;AAEvC,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE;IACpD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;QAAE,OAAO,EAAE;IAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,IAAA,gHAAS,EAAC;QACR,IAAI,YAAY;QAChB,MAAM,QAAQ,IAAA,sJAAkB,EAAC,gHAAI,EAAE,OAAO;YAC5C,QAAQ;YACR,WAAW;YACX,IAAI,GAAG;gBACL,wCAAwC;gBACxC,IAAI;oBACF,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,IAAI,OAAO;wBACT,MAAM,SAAS,KAAK,KAAK,CAAC;wBAC1B,IAAI,QAAQ,OAAO,QAAQ;4BACzB,MAAM,IAAA,uHAAe,EAAC,EAAE,GAAG,EAAE;4BAC7B,aAAa,UAAU,CAAC;wBAC1B;oBACF;gBACF,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,gBAAgB;gBAChC;gBAEA,8BAA8B;gBAC9B,YAAY,IAAA,uHAAe,EAAC,EAAE,GAAG,EAAE,CAAC;oBAClC,QAAQ,QAAQ;wBAAE,OAAO,EAAE;oBAAC;gBAC9B;YACF,OAAO;gBACL,oDAAoD;gBACpD,IAAI,WAAW;oBACb;oBACA,YAAY;gBACd;gBACA,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,QAAQ,QAAQ,KAAK,KAAK,CAAC,SAAS;oBAAE,OAAO,EAAE;gBAAC;YAClD;QACF;QACA,OAAO;YACL;YACA,IAAI,WAAW;QACjB;IACF,GAAG,EAAE;IAEL,qBACE,qKAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAM;YAAS;QAAQ;kBAC1D,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC,yHAAM;;;;;8BACP,qKAAC,+HAAY;;;;;8BACb,qKAAC;oBAAK,WAAU;8BACd,cAAA,qKAAC;wBAAW,GAAG,SAAS;;;;;;;;;;;8BAE1B,qKAAC,yHAAM;;;;;;;;;;;;;;;;AAIf"}}]
}